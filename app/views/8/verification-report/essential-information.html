{% extends "layouts/main.html" %}

{% set pageName="Essential information" %}

{% block pageScripts %}
  <script type="text/javascript">
    function showAnotherAddress() {
      var x = document.getElementById("another-address");
      if (x.style.display === "none") {
        x.style.display = "block";
      } else {
        alert("This would allow you to add a 2nd, 3rd, etc address in the real thing.")
      }
    }
  </script>
{% endblock %}

{% block content %}
  <div class="app-split-pane app-width-container">
    <div class="app-split-pane__nav">
      <nav class="app-subnav" aria-labelledby="app-subnav-heading">
        <h2 class="govuk-visually-hidden" id="app-subnav-heading">Sections</h2>
          <ul class="app-subnav__section">
            <li class="app-subnav__section-item">
              <a class="app-subnav__link govuk-link govuk-link--no-visited-state govuk-link--no-underline" href="defendant-details">
                Defendant details</a>
            </li>
            <li class="app-subnav__section-item">
              <a class="app-subnav__link govuk-link govuk-link--no-visited-state govuk-link--no-underline" href="offences">
                Offences</a>
            </li>
            <li class="app-subnav__section-item">
              <a class="app-subnav__link govuk-link govuk-link--no-visited-state govuk-link--no-underline" href="choose-sections">
                Choose sections</a>
            </li>
            <li class="app-subnav__section-item app-subnav__section-item--current">
              <a class="app-subnav__link govuk-link govuk-link--no-visited-state govuk-link--no-underline" href="essential-information">
                Essential information</a>
            </li>
            <li class="app-subnav__section-item">
              {% if (data['verification-report-sections'] == 'Include sections for unpaid work only') or (data['verification-report-sections'] == 'Include sections for both unpaid work and electronic monitoring')  %}
                <a class="app-subnav__link govuk-link govuk-link--no-visited-state govuk-link--no-underline" href="unpaid-work">
                  Suitability for unpaid work</a>
              {% else %}
                  <a class="app-subnav__link govuk-link govuk-link--no-visited-state govuk-link--no-underline govuk-link--disabled" href="unpaid-work">
                    Suitability for unpaid work</a>
              {% endif %}
            </li>
            <li class="app-subnav__section-item">
              {% if (data['verification-report-sections'] == 'Include sections for electronic monitoring only') or (data['verification-report-sections'] == 'Include sections for both unpaid work and electronic monitoring')  %}
                <a class="app-subnav__link govuk-link govuk-link--no-visited-state govuk-link--no-underline" href="electronic-monitoring-for-curfew">
                  Suitability for electronic monitoring</a>
              {% else %}
                  <a class="app-subnav__link govuk-link govuk-link--no-visited-state govuk-link--no-underline govuk-link--disabled" href="electronic-monitoring-for-curfew">
                    Suitability for electronic monitoring</a>
              {% endif %}
            </li>
            <li class="app-subnav__section-item">
              <a class="app-subnav__link govuk-link govuk-link--no-visited-state govuk-link--no-underline" href="recommendation">
                Recommendation</a>
            </li>
            <li class="app-subnav__section-item">
              <a class="app-subnav__link govuk-link govuk-link--no-visited-state govuk-link--no-underline" href="check-answers">
                Check your answers</a>
            </li>
            <li class="app-subnav__section-item">
              <a class="app-subnav__link govuk-link govuk-link--no-visited-state govuk-link--no-underline" href="sign-your-report">
                Sign your report</a>
            </li>
            <li class="app-subnav__section-item">
              <a class="app-subnav__link govuk-link govuk-link--no-visited-state govuk-link--no-underline" href="publish-report">
                Publish report</a>
            </li>
          </ul>
      </nav>
    </div>
    <div class="app-split-pane__content">
      <main id="main-content" class="app-content" role="main">
        <form action="essential-information" method="post" novalidate>
          <span class="govuk-caption-l">
            Dylan Adam Armstrong CRN: E234516
          </span>
          <h1 class="govuk-heading-l">
            Essential information
          </h1>
          <p class="govuk-body">You should request these checks from the
            relevant agencies and record the results when you have them.<br/>
            You can return to this section at any time.</p>
          <div class="govuk-form-group">
            <fieldset class="govuk-fieldset">
              <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
                <h2 class="govuk-fieldset__heading">
                  Domestic abuse checks
                </h2>
              </legend>
              <div id="domestic-abuse-checks-hint" class="govuk-hint">You must
                check for any previous domestic violence charges or domestic
                abuse police callouts.</div>
              <div class="govuk-radios" data-module="govuk-radios">
                <div class="govuk-radios__item">
                  <input class="govuk-radios__input" id="domestic-abuse-check-result" name="domestic-abuse-check-result" type="radio" value="No concerns about domestic abuse" {{ checked("domestic-abuse-check-result", "No concerns about domestic abuse") }}>
                  <label class="govuk-label govuk-radios__label" for="domestic-abuse-check-result">
                    No concerns about domestic abuse
                  </label>
                </div>
                <div class="govuk-radios__item">
                  <input class="govuk-radios__input" id="domestic-abuse-check-result-2" name="domestic-abuse-check-result" type="radio" value="Concerns about domestic abuse" {{ checked("domestic-abuse-check-result", "Concerns about domestic abuse") }}>
                  <label class="govuk-label govuk-radios__label" for="domestic-abuse-check-result-2">
                    Concerns about domestic abuse
                  </label>
                </div>
                <div class="govuk-radios__item">
                  <input class="govuk-radios__input" id="domestic-abuse-check-result-3" name="domestic-abuse-check-result" type="radio" value="Check pending" {{ checked("domestic-abuse-check-result", "Check pending") }}>
                  <label class="govuk-label govuk-radios__label" for="domestic-abuse-check-result-3">
                    Waiting for information to come back
                  </label>
                </div>
              </div>
            </fieldset>
          </div>
          <div class="govuk-form-group">
            {{ govukSelect({
              id: "domestic-abuse-verification",
              name: "domestic-abuse-verification",
              label: {
                text: "How have you verified this information?"
              },
              items: domesticAbuseVerificationList
            }) }}
          </div>
          <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">
          <div class="govuk-form-group">
            <fieldset class="govuk-fieldset">
              <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
                <h2 class="govuk-fieldset__heading">
                  Safeguarding checks
                </h2>
              </legend>
              <div id="safeguarding-checks-hint" class="govuk-hint">Check with social services for any concerns about child safety.</div>
              <div class="govuk-radios" data-module="govuk-radios">
                <div class="govuk-radios__item">
                  <input class="govuk-radios__input" id="safeguarding-check-result" name="safeguarding-check-result" type="radio" value="No safeguarding issues" {{ checked("safeguarding-check-result", "No safeguarding issues") }}>
                  <label class="govuk-label govuk-radios__label" for="safeguarding-check-result">
                    No child safeguarding concerns
                  </label>
                </div>
                <div class="govuk-radios__item">
                  <input class="govuk-radios__input" id="safeguarding-check-result-2" name="safeguarding-check-result" type="radio" value="Has safeguarding issues" {{ checked("safeguarding-check-result", "Has safeguarding issues") }}>
                  <label class="govuk-label govuk-radios__label" for="safeguarding-check-result-2">
                    Concerns about child safeguarding
                  </label>
                </div>
                <div class="govuk-radios__item">
                  <input class="govuk-radios__input" id="safeguarding-check-result-3" name="safeguarding-check-result" type="radio" value="Check pending" {{ checked("safeguarding-check-result", "Check pending") }}>
                  <label class="govuk-label govuk-radios__label" for="safeguarding-check-result-3">
                    Waiting for information to come back
                  </label>
                </div>
              </div>
            </fieldset>
          </div>
          <div class="govuk-form-group">
            {{ govukSelect({
              id: "safeguarding-verification",
              name: "safeguarding-verification",
              label: {
                text: "How have you verified this information?"
              },
              items: safeguardingVerificationList
            }) }}
          </div>
          <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">
          <div class="govuk-form-group">
            <fieldset class="govuk-fieldset">
              <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
                <h2 class="govuk-fieldset__heading">Addresses</h2>
              </legend>
              <div id="changedName-hint" class="govuk-hint">
                Record all addresses that the defendant lives at.
              </div>
              <h3 class="govuk-heading-s">Current address</h3>
              <p class="govuk-body">
                {{data['address-line-1']}}<br />
                  {% if (data['address-line-2']) %}
                    {{data['address-line-2']}}<br />
                  {% endif %}
                  {{data['address-town']}}<br />
                  {% if (data['address-county']) %}
                    {{data['address-county']}}<br />
                  {% endif %}
                  {{data['address-postcode']}}
              </p>
              <div id="another-address" class="govuk-!-margin-bottom-9" style="display:none;">
                <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">
                <h3 class="govuk-heading-s">New address</h3>
                <div class="govuk-form-group">
                  <label class="govuk-label" for="other-address-description">
                    Address description
                  </label>
                  <input class="govuk-input govuk-input--width-20"" id="other-address-description" name="other-address-description" type="text" autocomplete="off" value="{{data['other-address-description']}}">
                </div>
                <div class="govuk-form-group">
                  <label class="govuk-label" for="other-address-line-1">
                    Address line 1
                  </label>
                  <input class="govuk-input govuk-input--width-30" id="other-address-line-1" name="other-address-line-1" type="text" autocomplete="off" value="{{data['other-address-line-1']}}">
                </div>
                <div class="govuk-form-group">
                  <label class="govuk-label" for="address-line-2">
                    Address line 2 (optional)
                  </label>
                  <input class="govuk-input govuk-input--width-30" id="other-address-line-2" name="other-address-line-2" type="text" autocomplete="off" value="{{data['other-address-line-2']}}">
                </div>
                <div class="govuk-form-group">
                  <label class="govuk-label" for="other-address-town">
                    Town or city
                  </label>
                  <input class="govuk-input govuk-input--width-20" id="other-address-town" name="other-address-town" autocomplete="off" type="text" value="{{data['other-address-town']}}">
                </div>
                <div class="govuk-form-group">
                  <label class="govuk-label" for="address-county">
                    County (optional)
                  </label>
                  <input class="govuk-input govuk-input--width-20" id="other-address-county" name="other-address-county" autocomplete="off" type="text" value="{{data['other-address-county']}}">
                </div>
                <div class="govuk-form-group">
                  <label class="govuk-label" for="other-address-postcode">
                    Postcode
                  </label>
                  <input class="govuk-input govuk-input--width-10" id="other-address-postcode" name="other-address-postcode" type="text" autocomplete="off" value="{{data['other-address-postcode']}}">
                </div>
              </div>
              <div id="add-another-address" class="govuk-button govuk-button--secondary" data-module="govuk-button" onclick="showAnotherAddress()">
                Add another address
              </div>
            </fieldset>
          </div>
          <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">
          <div class="govuk-form-group">
            <h2 class="govuk-heading-m" for="dependant-caring-responsibilities">
              Dependants and caring responsibilities
            </h2>
            <div id="dependant-caring-responsibilities-hint" class="govuk-hint">
              Record any dependants and caring responsibilities that could
              impact the defendant's ability to do unpaid work or receive an
              electronic monitoring curfew.
            </div>
            <textarea class="govuk-textarea" id="dependant-caring-responsibilities" name="dependant-caring-responsibilities" rows="2" aria-describedby="dependant-caring-responsibilities-hint">{{data['dependant-caring-responsibilities']}}</textarea>
          </div>
          <div class="govuk-form-group">
            {{ govukSelect({
              id: "dependants-caring-verification",
              name: "dependants-caring-verification",
              label: {
                text: "How have you verified this information?"
              },
                hint: {
                text: "Record proof of dependants and caring responsibilities."
              },
              items: dependantsCaringVerificationList
            }) }}
          </div>
          <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">
          <div class="govuk-form-group">
            <h2 class="govuk-heading-m" for="verify-current-employment">
              Employment
            </h2>
            <div id="health-conditions-hint" class="govuk-hint">
              Record their employment status and working pattern.
            </div>
            <input class="govuk-input" id="verify-current-employment" name="verify-current-employment" type="text" value="{{data['verify-current-employment']}}">
          </div>
          <div class="govuk-form-group">
            <div class="govuk-form-group">
              <fieldset class="govuk-fieldset" aria-describedby="contact-hint">
                <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
                  <h2 class="govuk-fieldset__heading">
                    Have you verified this information?
                  </h2>
                </legend>
                <div id="contact-hint" class="govuk-hint">
                  Select one option.
                </div>
                <div class="govuk-radios" data-module="govuk-radios">
                  <div class="govuk-radios__item">
                    <input class="govuk-radios__input" id="contact" name="contact" type="radio" value="email" data-aria-controls="conditional-contact">
                    <label class="govuk-label govuk-radios__label" for="contact">
                      Yes
                    </label>
                  </div>
                  <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="conditional-contact">
                    <div class="govuk-form-group">
                      <label class="govuk-label" for="contact-by-email">
                        How have you verified this information?
                      </label>
                      <input class="govuk-input govuk-!-width-one-third" id="contact-by-email" name="contactByEmail" type="email" spellcheck="false" autocomplete="email">
                    </div>
                  </div>
                  <div class="govuk-radios__item">
                    <input class="govuk-radios__input" id="contact-2" name="contact" type="radio" value="phone" data-aria-controls="conditional-contact-2">
                    <label class="govuk-label govuk-radios__label" for="contact-2">
                      No
                    </label>
                  </div>
                  <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">
                  <div class="govuk-form-group">
                    <h2 class="govuk-heading-m" for="verify-no-health-conditions">Health
                       conditions</h2>
                    <div id="verify-no-health-conditions-hint" class="govuk-hint">
                      Record any health conditions that may affect their ability
                      to complete unpaid work or receive an electronic
                      monitoring curfew.<br />You should include both physical
                      and mental health conditions.</div>
                    <textarea class="govuk-textarea" id="verify-no-health-conditions" name="verify-no-health-conditions" rows="5" aria-describedby="verify-no-health-conditions-hint">{{data['verify-no-health-conditions']}}</textarea>
                  </div>
                  <div class="govuk-form-group">
                    {{ govukSelect({
                      id: "health-conditions-verification",
                      name: "health-conditions-verification",
                      label: {
                        text: "How have you verified this information?"
                      },
                        hint: {
                        text: "Record proof health conditions."
                      },
                      items: healthConditionsVerificationList
                    }) }}
                  </div>
                </div>
              </fieldset>
            </div>
          <div class="govuk-button-group">
            <button class="govuk-button" data-module="govuk-button">
              Save and continue
            </button>
            <button class="govuk-button govuk-button--secondary" data-module="govuk-button" name="draftSaved" value="true">
              Save draft
            </button>
          </div>
        </form>
      </main>
    </div>
    <div class="app-back-to-top" data-module="app-back-to-top">
      <a class="govuk-link govuk-link--no-visited-state app-back-to-top__link"
        href="#top">
        <svg role="presentation" focusable="false" class="app-back-to-top__icon"
          xmlns="http://www.w3.org/2000/svg" width="13" height="17"
          viewBox="0 0 13 17">
          <path fill="currentColor" d="M6.5 0L0 6.5 1.4 8l4-4v12.7h2V4l4.3 4L13 6.4z">
          </path>
        </svg>Back to top
      </a>
    </div>
  </div>
{% endblock %}
